# Seguridad con claves SSH y mas seguridad

## Instrucciones

1) En el archivo /etc/ssh/sshd_config

Port 2222
PermitRootLogin no
PasswordAuthentication yes (DESPUES CAMBIAMOS A NO)
ChallengeResponseAuthentication no
PubkeyAuthentication yes
AllowUsers (NOMBRE DE USUSARIOS QUE QUIERES QUE ENTREN)

Despues:

sudo systemctl restart sshd

2) Crear claves SSH en el rodenador cliente. el ordenador donde queires acceder al servidor

ssh-keygen -t ed25519 (Esto solo hace falta una vex si queires ahcer en mas ordenadors)

ssh-copy-id -p 2222 usuario@IP_DEL_SERVIDOR (Puedes crear clave para mas seguirdad)

3) despues editamos otra vez el archivo sshd_conifg

cmabiamos el PasswordAuthentication yes a no

sudo systemctl restart sshd

4) Instalamos fail2ban

sudo dnf install fail2ban -y 
sudo systemctl enable --now fail2ban

LISTO

--------------

Extras:

* Abrir SSH a internet: Usar Tailscale. Esta aplicacion crea una VPN y no necesitas abrir puertos en el router para conectarte via SSH

* Como hacer un alias para no tener que escribir USUARIO@IP -p 2222, usarias solo NOMBRE

ej: en vez de usar:
ssh -p 2222 usuario@192.168.1.45 
usarias:
ssh NOMBRE

* Copiar archivos:
No hay que conectarse por ssh. lo tienes que hacer desde tu terminal.
ej:
scp -P 2222 usuario@192.168.1.45:/home/usuario/documento.pdf ~/Downloads/
ahora:
scp fedora:documento.pdf ~/Downloads/


